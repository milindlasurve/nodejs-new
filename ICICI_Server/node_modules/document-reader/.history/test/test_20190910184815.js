var docRdr = require('../server/document-reader');

describe('DocumentViewerJSONUrl', function () {
    describe('#documentViewer()', function () {
        it('should read json from url and extract operations and parameters mapping details', function (done) {
            var jsonPath = "http://petstore.swagger.io/v2/swagger.json";
            var data = docRdr.documentViewer(jsonPath);
            if (data) done();
            else done("Error!")
        });
    });
});

describe('DocumentViewerYAMLFile', function () {
    describe('#documentViewer()', function () {
        it('should read yaml from filepath and extract operations and parameters mapping details', function (done) {
            var yamlPath = "./files/petStore.yaml";
            var data = docRdr.documentViewer(yamlPath);
            if (data) done();
            else done("Error!")
        });
    });
});

describe('DocumentViewerJSONFile', function () {
    describe('#documentViewer()', function () {
        it('should read json from filepath and extract operations and parameters mapping details', function (done) {
            var jsonPath =  "./files/petStore.json";
            var data = docRdr.documentViewer(jsonPath);
            if (data) done();
            else done("Error!")
        });
    });
});


describe('SoapViewerWSDLFile', function () {
    describe('#soapViewer()', function () {
        it('should read wsdl from filepath and extract operations and parameters mapping details', function (done) {
            var wsdlPath =  "./files/wsdl.xml";
            var data = docRdr.soapViewer(wsdlPath);
            if (data) done();
            else done("Error!")
        });
    });
});

describe('SoapViewerWSDLUrl', function () {
    describe('#soapViewer()', function () {
        it('should read wsdl from url and extract operations and parameters mapping details', function (done) {
            var wsdlPath =  "https://graphical.weather.gov/xml/SOAP_server/ndfdXMLserver.php?wsdl";
            var data = docRdr.soapViewer(wsdlPath);
            if (data) done();
            else done("Error!")
        });
    });
});