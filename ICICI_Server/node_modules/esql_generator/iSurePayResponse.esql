BROKER SCHEMA com.icici.xpress_connect.isurepay


CREATE COMPUTE MODULE TransformValidationResponseMessage
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		-- CALL CopyMessageHeaders();
		-- CALL CopyEntireMessage();
		
		SET OutputRoot.HTTPReplyHeader."Content-Type" = 
			Environment.Variables.iSurePay.Request.Header."Content-Type";
		
        -- Code --


SET OutputRoot.XMLNSC.RESP."Client_Code" = InputRoot.JSON.Data.Client_Code;
SET OutputRoot.XMLNSC.RESP."Client_Code".(XMLNSC.Attribute)labelname = 'Client_Code';
SET OutputRoot.XMLNSC.RESP."Client_Code".(XMLNSC.Attribute)dispflg = 'Y';

SET OutputRoot.XMLNSC.RESP."Client_Validate_No2" = InputRoot.JSON.Data.Client_Validate_No2;
SET OutputRoot.XMLNSC.RESP."Client_Validate_No2".(XMLNSC.Attribute)labelname = 'Client_Validate_No2';
SET OutputRoot.XMLNSC.RESP."Client_Validate_No2".(XMLNSC.Attribute)dispflg = 'Y';

SET OutputRoot.XMLNSC.RESP."Amount" = InputRoot.JSON.Data.Amount;
SET OutputRoot.XMLNSC.RESP."Amount".(XMLNSC.Attribute)labelname = 'Amount';
SET OutputRoot.XMLNSC.RESP."Amount".(XMLNSC.Attribute)dispflg = 'Y';

SET OutputRoot.XMLNSC.RESP."STATUS" = InputRoot.JSON.Data.STATUS;
SET OutputRoot.XMLNSC.RESP."STATUS".(XMLNSC.Attribute)labelname = 'STATUS';
SET OutputRoot.XMLNSC.RESP."STATUS".(XMLNSC.Attribute)dispflg = 'Y';

SET OutputRoot.XMLNSC.RESP."REJECT_REASON" = InputRoot.JSON.Data.REJECT_REASON;
SET OutputRoot.XMLNSC.RESP."REJECT_REASON".(XMLNSC.Attribute)labelname = 'REJECT_REASON';
SET OutputRoot.XMLNSC.RESP."REJECT_REASON".(XMLNSC.Attribute)dispflg = 'Y';



		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No2 = InputRoot.JSON.Data.Client_Validate_No2;
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No2.(XMLNSC.Attribute)labelname = 'Client Validate No2';
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No2.(XMLNSC.Attribute)dispflg = 'Y';
		--
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No3 = InputRoot.JSON.Data.Client_Validate_No3;
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No3.(XMLNSC.Attribute)labelname = 'Client Validate No3';
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No3.(XMLNSC.Attribute)dispflg = 'Y';
		--
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No4 = InputRoot.JSON.Data.Client_Validate_No4;
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No4.(XMLNSC.Attribute)labelname = 'Client Validate No4';
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No4.(XMLNSC.Attribute)dispflg = 'Y';
		--
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No5 = InputRoot.JSON.Data.Client_Validate_No5;
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No5.(XMLNSC.Attribute)labelname = 'Client Validate No5';
		--	SET OutputRoot.XMLNSC.RESP.Client_Validate_No5.(XMLNSC.Attribute)dispflg = 'Y';
		--
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP = InputRoot.JSON.Data.ClientValidateRESP;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP.(XMLNSC.Attribute)labelname = 'ClientValidateRESP';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP2 = InputRoot.JSON.Data.ClientValidateRESP2;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP2.(XMLNSC.Attribute)labelname = 'ClientValidateRESP2';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP2.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP3 = InputRoot.JSON.Data.ClientValidateRESP3;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP3.(XMLNSC.Attribute)labelname = 'ClientValidateRESP3';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP3.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP4 = InputRoot.JSON.Data.ClientValidateRESP4;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP4.(XMLNSC.Attribute)labelname = 'ClientValidateRESP4';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP4.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP5 = InputRoot.JSON.Data.ClientValidateRESP5;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP5.(XMLNSC.Attribute)labelname = 'ClientValidateRESP5';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP5.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP6 = InputRoot.JSON.Data.ClientValidateRESP6;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP6.(XMLNSC.Attribute)labelname = 'ClientValidateRESP6';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP6.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP7 = InputRoot.JSON.Data.ClientValidateRESP7;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP7.(XMLNSC.Attribute)labelname = 'ClientValidateRESP7';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP7.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP8 = InputRoot.JSON.Data.ClientValidateRESP8;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP8.(XMLNSC.Attribute)labelname = 'ClientValidateRESP8';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP8.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP9 = InputRoot.JSON.Data.ClientValidateRESP9;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP9.(XMLNSC.Attribute)labelname = 'ClientValidateRESP9';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP9.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP10 = InputRoot.JSON.Data.ClientValidateRESP10;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP10.(XMLNSC.Attribute)labelname = 'ClientValidateRESP10';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP10.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP11 = InputRoot.JSON.Data.ClientValidateRESP11;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP11.(XMLNSC.Attribute)labelname = 'ClientValidateRESP11';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP11.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP12 = InputRoot.JSON.Data.ClientValidateRESP12;
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP12.(XMLNSC.Attribute)labelname = 'ClientValidateRESP12';
		--	SET OutputRoot.XMLNSC.RESP.ClientValidateRESP12.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.Debit_ac = InputRoot.JSON.Data.Debit_ac;
		--	SET OutputRoot.XMLNSC.RESP.Debit_ac.(XMLNSC.Attribute)labelname = 'Debit_ac';
		--	SET OutputRoot.XMLNSC.RESP.Debit_ac.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.Micr_code = InputRoot.JSON.Data.Micr_code;
		--	SET OutputRoot.XMLNSC.RESP.Micr_code.(XMLNSC.Attribute)labelname = 'Micr_code';
		--	SET OutputRoot.XMLNSC.RESP.Micr_code.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.Instr_dt = InputRoot.JSON.Data.Instr_dt;
		--	SET OutputRoot.XMLNSC.RESP.Instr_dt.(XMLNSC.Attribute)labelname = 'Instr_dt';
		--	SET OutputRoot.XMLNSC.RESP.Instr_dt.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.Instr_no = InputRoot.JSON.Data.Instr_no;
		--	SET OutputRoot.XMLNSC.RESP.Instr_no.(XMLNSC.Attribute)labelname = 'Instr_no';
		--	SET OutputRoot.XMLNSC.RESP.Instr_no.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.Rejection_Reasons = InputRoot.JSON.Data.Rejection_Reasons;
		--	SET OutputRoot.XMLNSC.RESP.Rejection_Reasons.(XMLNSC.Attribute)labelname = 'Rejection_Reasons';
		--	SET OutputRoot.XMLNSC.RESP.Rejection_Reasons.(XMLNSC.Attribute)dispflg = 'Y';
		--	
		--	SET OutputRoot.XMLNSC.RESP.Rejection_Button = InputRoot.JSON.Data.Rejection_Button;
		--	SET OutputRoot.XMLNSC.RESP.Rejection_Button.(XMLNSC.Attribute)labelname = 'Rejection_Button';
		--	SET OutputRoot.XMLNSC.RESP.Rejection_Button.(XMLNSC.Attribute)dispflg = 'Y';
		
				
		
		RETURN TRUE;
	END;

	CREATE PROCEDURE CopyMessageHeaders() BEGIN
		DECLARE I INTEGER 1;
		DECLARE J INTEGER;
		SET J = CARDINALITY(InputRoot.*[]);
		WHILE I < J DO
			SET OutputRoot.*[I] = InputRoot.*[I];
			SET I = I + 1;
		END WHILE;
	END;

	CREATE PROCEDURE CopyEntireMessage() BEGIN
		SET OutputRoot = InputRoot;
	END;
END MODULE;