var q = require("q");

var yamlGenerator = require("../services/yamlGenerator");


var generateYaml = async function (template,data,fileName){

	var deferred = q.defer();
	var yaml;
	try{
		yaml = await yamlGenerator.genYaml(template,data,fileName).then(function(data){
			//console.log("Generate YAML Response :  ",data);
			deferred.resolve(data);
		}).catch(function (err) {
			deferred.reject({message:"Generate YAML Error",err:err})
		});;
		deferred.resolve(yaml);
	}catch(e){
		//console.error(e);
		deferred.reject(e);
	}	
	return deferred.promise;
}


module.exports.generateYaml = generateYaml
