swagger: '2.0'
info:
  title: Nayara
  x-ibm-name: nayara
  version: 1.0.0
  description: Remitter Validation API for ICICI.
  termsOfService: 'http://TBD'
  contact:
    name: Nayara Energies Ltd.
    email: TBD@nayaraenergy.com
    x-mis-contact-email:
      - Manoj.Sharma1@nayaraenergy.com
      - Bhavesh.Adwani@nayaraenergy.com
      - Sandip.Bhavsar@nayaraenergy.com
    url: 'http://TBD'
  license:
    name: TBD
    url: 'http://TBD'
host: iciciloa.nayaraenergy.com
schemes:
  - https
basePath: /
produces:
  - application/xml
consumes:
  - application/xml
securityDefinitions:
  clientIdHeader:
    type: apiKey
    in: header
    name: X-IBM-Client-Id
x-ibm-configuration:
  gateway: datapower-gateway
  type: rest
  phase: realized
  enforced: true
  testable: true
  cors:
    enabled: true
  assembly:
    execute:
      - invoke:
          version: 1.0.0
          title: invoke
          timeout: 60
          verb: POST
          cache-response: protocol
          cache-ttl: 900
          stop-on-error: []
          target-url: 'https://target.com'
  properties:
    target-url:
      value: 'http://example.com/operation-name'
      description: The URL of the target service
      encoded: false
  application-authentication:
    certificate: false
definitions:
  Bank:
    properties:
      ClientCode:
        type: string
        description: Client Code.
        minLength: 4
        maxLength: 4
      VAN:
        type: string
        description: Unique Actual Virtual Account No. of the client.
        minLength: 0
        maxLength: 30
      TransactionAmount:
        type: string
        description: Transaction Amount
        minLength: 0
        maxLength: 14
        pattern: '[0-9]{1,11}\.[0-9]{2}}'
      Mode:
        type: string
        description: >-
          Payment Mode. "N"  for NEFT,  "R" for RTGS, "I" for Fund Transfer and
          "O" for IMPS.
        default: 'N'
        enum:
          - 'N'
          - R
          - I
          - O
      UTRNumber:
        type: string
        description: Unique Transaction Reference number generated by remitting bank.
        minLength: 0
        maxLength: 30
      RemitterName:
        type: string
        description: Receivers Name received in the incoming message.
        minLength: 0
        maxLength: 150
      RemitterAccountNumber:
        type: string
        description: Account Number of the remitter received from the remitting bank.
        minLength: 0
        maxLength: 25
      RemitterIFSC_Code:
        type: string
        description: IFSC code received from the remitting bank.
        minLength: 0
        maxLength: 15
      Date:
        type: string
        pattern: '^(3[01]|[12][0-9]|0[1-9])/(1[0-2]|0[1-9])/[0-9]{4}$'
        description: Date when the amount was received. Format DD/MM/YYYY
        minLength: 10
        maxLength: 10
      SenderToReceiverInformation:
        type: string
        description: Optional information received from remitting bank.
        minLength: 0
        maxLength: 150
      Checksum:
        type: string
        description: Checksum for the message payload.
        minLength: 0
        maxLength: 32
      Status:
        type: string
        description: Decision point for collection.
        enum:
          - ACCEPT
          - REJECT
      RejectReason:
        type: string
        description: Rejection reason. Mandatory if the Status received is "REJECT".
        minLength: 0
        maxLength: 35
    required:
      - ClientCode
      - VAN
      - TransactionAmount
      - Mode
      - UTRNumber
      - RemitterName
      - RemitterAccountNumber
      - RemitterIFSC_Code
      - Date
      - Checksum
    x-ibm-schema:
      type: xsd
      file: >-
        PEJhbms+Cgk8Q2xpZW50Q29kZT5yb25rPC9DbGllbnRDb2RlPgoJPFZBTj5MT0FEOTk5OTk5OTk5PC9WQU4+Cgk8VHJhbnNhY3Rpb25BbW91bnQ+NDYzOTM5MTc5MDEzNzM0NDwvVHJhbnNhY3Rpb25BbW91bnQ+Cgk8TW9kZT5OPC9Nb2RlPgoJPFVUUk51bWJlcj41NzAxNjAzOTU2ODgzNDU2PC9VVFJOdW1iZXI+Cgk8UmVtaXR0ZXJOYW1lPkFsYmVydCBQYWxtZXI8L1JlbWl0dGVyTmFtZT4KCTxSZW1pdHRlckFjY291bnROdW1iZXI+MzAwNDE3MTI0Mzk3NDI8L1JlbWl0dGVyQWNjb3VudE51bWJlcj4KCTxSZW1pdHRlcklGU0NfQ29kZT5lZGVsYWFzb3NpdGU8L1JlbWl0dGVySUZTQ19Db2RlPgoJPERhdGU+MTIvMTQvMjAzODwvRGF0ZT4KCTxTZW5kZXJUb1JlY2VpdmVySW5mb3JtYXRpb24+em9jaXJhY293bXV0aXpldGVwb3ZsdXBvZGQ8L1NlbmRlclRvUmVjZWl2ZXJJbmZvcm1hdGlvbj4KCTxDaGVja3N1bT56aW51cmViYXBwdTwvQ2hlY2tzdW0+Cgk8U3RhdHVzPlJFSkVDVDwvU3RhdHVzPgoJPFJlamVjdFJlYXNvbj5lcmVpbnR1ZzwvUmVqZWN0UmVhc29uPgo8L0Jhbms+
paths:
  /validate:
    post:
      tags:
        - Validation
      summary: Validates a Payment Transaction.
      description: Validate a payment transaction.
      operationId: opValidate
      parameters:
        - description: Validation Request
          in: body
          name: body
          schema:
            $ref: '#/definitions/Bank'
      responses:
        '200':
          description: Validation response.
          schema:
            $ref: '#/definitions/Bank'
      consumes:
        - application/xml
      produces:
        - application/xml
